import{E as v}from"./style.e7774f9c.js";import{s as f,a as w}from"./vue.runtime.esm-bundler.28a780ca.js";import{H as g}from"./Header.fd4f1213.js";import{ae as h,bx as k,G as n,aC as x,r as c,o as b,e as E,d as a,w as i,g as F,b as y,P as L,_ as q}from"./index.3e2d01e6.js";const C=["revoke","next","-","bold","underline","italic","image","-","strikeThrough","title","sub","sup","quote","unorderedList","orderedList","-","codeRow","code","link","table","=","pageFullscreen","fullscreen","preview","htmlPreview","catalog"];function N(){document.querySelector(".md-toolbar-item[title='\u56FE\u7247']").addEventListener("click",()=>{document.querySelector(".md-dropdown").classList.remove("md-dropdown-hidden")}),document.querySelector(".md-toolbar-item[title='\u6807\u9898']").addEventListener("click",()=>{document.querySelector(".md-dropdown")[1].classList.remove("md-dropdown-hidden")}),document.querySelector(".md-toolbar-item[title='\u8868\u683C']").addEventListener("click",()=>{document.querySelector(".md-dropdown")[2].classList.remove("md-dropdown-hidden")})}const S={class:"newdraft"},V={class:"container padding"},B=h({__name:"NewDraft",setup(D){const m=f.parse("token"),r=k(),d=n(""),l=n(""),p=n(C);x(()=>{setTimeout(N(),5e3)});const _=(u,e)=>{let o=new FormData;o.append("avatar",u[0]),w.post("https://v2.api.light.xhhzs.cn/v2/user/upload?cookie="+m.token,o,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{r.success(t.data.message),e(["//"+t.data.data])}).catch(t=>{console.error(t),r.error("\u4E0A\u4F20\u5931\u8D25")})};return(u,e)=>{const o=c("n-input"),t=c("n-space");return b(),E("div",S,[a(g,null,{default:i(()=>[F("\u7F16\u8F91\u8349\u7A3F")]),_:1}),y("div",V,[a(t,{vertical:""},{default:i(()=>[a(o,{size:"large",value:l.value,"onUpdate:value":e[0]||(e[0]=s=>l.value=s),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898 \u5FC5\u586B"},null,8,["value"]),a(L(v),{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),onOnUploadImg:_,theme:"dark",toolbars:p.value},null,8,["modelValue","toolbars"])]),_:1})])])}}});const z=q(B,[["__scopeId","data-v-cde15af9"]]);export{z as default};
