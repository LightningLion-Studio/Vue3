import{E as g}from"./style.3c00500e.js";import{s as w,a as b}from"./vue.runtime.esm-bundler.c72113b7.js";import{H as k}from"./Header.a430db63.js";import{ae as E,bx as h,G as n,aC as x,r,o as y,e as F,d as o,w as d,g as m,b as B,P as C,_ as N}from"./index.61c0770a.js";const L=["revoke","next","-","bold","underline","italic","image","-","strikeThrough","title","sub","sup","quote","unorderedList","orderedList","-","codeRow","code","link","table","=","pageFullscreen","fullscreen","preview","htmlPreview","catalog"];function D(){document.getElementsByClassName("md-editor-toolbar-item")[5].addEventListener("click",()=>{document.querySelector(".md-dropdown").classList.remove("md-dropdown-hidden")}),document.getElementsByClassName("md-editor-toolbar-item")[5].addEventListener("click",()=>{document.querySelector(".md-dropdown")[1].classList.remove("md-dropdown-hidden")}),document.getElementsByClassName("md-editor-toolbar-item")[6].addEventListener("click",()=>{document.querySelector(".md-dropdown")[2].classList.remove("md-dropdown-hidden")})}const V={class:"newdraft"},q={class:"container padding"},A=E({__name:"NewDraft",setup(T){const p=w.parse("token"),l=h(),u=n(""),c=n(""),_=n(L);x(()=>{setTimeout(D(),5e3)});const v=(i,e)=>{let a=new FormData;a.append("avatar",i[0]),b.post("/apis/user/upload?cookie="+p.token,a,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{l.success(t.data.message),e(["//"+t.data.data])}).catch(t=>{l.error("\u4E0A\u4F20\u5931\u8D25")})};return(i,e)=>{const a=r("n-input"),t=r("n-button"),f=r("n-space");return y(),F("div",V,[o(k,null,{default:d(()=>[m("\u7F16\u8F91\u8349\u7A3F")]),_:1}),B("div",q,[o(f,{vertical:""},{default:d(()=>[o(a,{size:"large",value:c.value,"onUpdate:value":e[0]||(e[0]=s=>c.value=s),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898 \u5FC5\u586B"},null,8,["value"]),o(C(g),{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),onOnUploadImg:v,theme:"dark",toolbars:_.value},null,8,["modelValue","toolbars"]),o(t,{block:"",type:"primary",size:"large"},{default:d(()=>[m("\u4FDD\u5B58\u8349\u7A3F")]),_:1})]),_:1})])])}}});const H=N(A,[["__scopeId","data-v-3550ae45"]]);export{H as default};
