import{a as o,s}from"./vue.runtime.esm-bundler.65dc7042.js";import{i as n,j as u,k as i}from"./index.bdf9638e.js";const{message:c}=n(["message"],{configProviderProps:{theme:u}}),r=o.create({baseURL:"/apis",timeout:1e5,auth:{username:"APP ID",password:"APP Secret"}});r.interceptors.request.use(e=>e,e=>Promise.reject(e));r.interceptors.response.use(e=>{if(console.log(e),e.data.message=="\u60A8\u672A\u767B\u5F55 \u8BF7\u5148\u767B\u5F55"){c.error(e.data.message),localStorage.removeItem("token"),i.push("/");return}else return e},e=>Promise.reject(e));JSON.parse(localStorage.getItem("token"));async function l(e,t,a){return await r({method:"get",url:"/post",params:{order:e,limit:t,offset:a}})}async function d(e){return await r({method:"get",url:"/post/single",params:{id:e}})}s.parse("token");async function w(e,t,a){return await r({method:"get",url:"/topic",params:{order:e,limit:t,offset:a}})}const m=s.parse("token");async function f(e,t){return await r({method:"get",params:{username:e,password:t},url:"/newuser/login"})}async function h(){return await r.get("/user",{params:{cookie:m.token}})}async function k(e){return await r({method:"get",url:"/newuser/checkname",params:{username:e}})}async function P(e){return await r({method:"get",url:"/newuser/sendmail",params:{email:e}})}async function y(e){return await r({method:"get",url:"/newuser/register",params:{username:e.username,password:e.password,email:e.email,code:e.code}})}export{k as C,l as G,f as L,y as R,P as S,h as U,w as a,d as b,r};
